\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[
    generated/.style={
      draw, fill=white,
      minimum width=1.5cm, minimum height=1cm,
      align=left,
      outer sep=0pt, inner sep=0pt
    },
    closurenode/.style={
      rectangle split, rectangle split parts=2,
      rectangle split horizontal,
      draw, fill=white,
      minimum width=1.5cm,
      minimum height=0.7cm,
      outer sep=0pt
    },
    listnode/.style={
      rectangle split, rectangle split parts=2, draw,
      minimum width=1.5cm, minimum height=0.7cm
    },
    entry/.style={
      draw, fill=white,
      minimum width=0.8cm, minimum height=0.7cm,
      outer sep=0pt, inner sep=0pt
    },
    labelstyle/.style={
      align=right, anchor=east, font=\small
    },
    -Stealth
  ]
    \foreach \i in {1,...,5} {
      \ifnum\i=1
        \node[entry] (entry\i) at (4,6) {};
      \else
        \pgfmathtruncatemacro{\prevI}{\i-1}
        \node[entry, below=0pt of entry\prevI] (entry\i) {};
      \fi
      \fill ($(entry\i.west)!0.5!(entry\i.east)$) circle (0.05cm);
    }
    \node[labelstyle, left=2cm of entry3.west] (entry_tables_label) {Entry point tables};

    \node[closurenode, below=1cm of entry5.south west, anchor=north west] (closure_10) {\nodepart{one} \nodepart{two} evns1};
    \fill ($(closure_10.one split west)!0.5!(closure_10.one split)$) circle (0.05cm);

    \node[closurenode, below=0.5cm of closure_10.south west, anchor=north west] (closure_pi) {\nodepart{one} \nodepart{two} envs2};
    \fill ($(closure_pi.one split west)!0.5!(closure_pi.one split)$) circle (0.05cm);

    \node[labelstyle, left=2cm of closure_10.west, yshift=-0.75cm] (closure_label) {Closure instances};


    \foreach \i in {1,...,5} {
      \ifnum\i=1
        \node[generated, below=0.5cm of closure_pi.south west, anchor=north west] (stub\i) {};
      \else
        \pgfmathtruncatemacro{\prevI}{\i-1}
        \node[generated, right=0pt of stub\prevI] (stub\i) {};
      \fi
    }

    \node[labelstyle, left=2cm of stub1.west] (stub_label) {Stub memory space};

    \draw[->, bend left=45] ($(closure_10.one split west)!0.5!(closure_10.one split)$) to (entry1.north west);
  \end{tikzpicture}
  \caption{JIT}
  \label{fig:jit}
\end{figure}
